import React, { useState, useEffect, useRef } from 'react';
import styles from './gallery.module.css';
// import Gear from './Gear';

function Gallery() {

    const userAgent = navigator.userAgent;
    const chromiumBrowsers = ['Chrome', 'Chromium', 'Edge', 'Opera', 'Brave', 'Arc'];

    const isChromium = chromiumBrowsers.some(browser => userAgent.includes(browser));
    const isFirefox = userAgent.includes('Firefox');
    const isSafari = userAgent.includes('Safari') && !userAgent.includes('Chrome');

    const headings = [
        "Welcome to the Gallery.", "Welcome to the Gallery.",
        "We're working on it.", "We're working on it.",
        "Stay tuned for updates.", "Stay tuned for updates.",
        "We promise, it will be worth the wait.", "We promise, it will be worth the wait."
    ];
    const [index, setIndex] = useState(0);
    const [isHidden, setHidden] = useState(false);

    const headerRef = useRef(null);

    useEffect(() => {
        const interval = setInterval(() => {
            setHidden((prevHidden) => !prevHidden);

            setIndex((prevIndex) => {
                if (prevIndex === headings.length - 1) {
                    return 0;
                } else {
                    return prevIndex + 1;
                }
            });
        }, 3000);
        return () => clearInterval(interval);
    }, [headings.length]);

    useEffect(() => {
        if (headerRef.current) {
            headerRef.current.style.opacity = isHidden ? 0 : 1;
        }
    }, [isHidden]);

    return (
        <div className={styles.main}>
            <div className={styles.reference}>
                {isSafari ?
                    <svg className={styles.gear} width="761" height="761" viewBox="0 0 761 761" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <g className={styles.gearCenteredSingle}>
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M661.135 380.499C661.135 225.509 535.491 99.8649 380.5 99.8649C225.51 99.8649 99.8656 225.509 99.8656 380.499C99.8656 535.49 225.51 661.134 380.5 661.134C535.491 661.134 661.135 535.49 661.135 380.499ZM500.592 381.131C500.592 314.457 446.542 260.407 379.868 260.407C313.195 260.407 259.145 314.457 259.145 381.131C259.145 447.804 313.195 501.854 379.868 501.854C446.542 501.854 500.592 447.804 500.592 381.131Z" fill="var(--text)" />
                            <path d="M8.24134 431.98C3.54954 431.459 0 427.493 0 422.772L0 338.227C0 333.506 3.54953 329.541 8.24134 329.019L103.483 318.437C108.971 317.827 113.771 322.123 113.771 327.645L113.771 433.355C113.771 438.877 108.971 443.172 103.483 442.563L8.24134 431.98Z" fill="var(--text)" />
                            <path d="M752.759 329.02C757.451 329.541 761 333.507 761 338.227V422.773C761 427.494 757.451 431.459 752.759 431.981L657.517 442.563C652.029 443.173 647.229 438.877 647.229 433.355V327.645C647.229 322.123 652.029 317.828 657.517 318.437L752.759 329.02Z" fill="var(--text)" />
                            <path d="M431.981 752.759C431.46 757.45 427.494 761 422.773 761H338.228C333.507 761 329.541 757.45 329.02 752.759L318.437 657.517C317.828 652.029 322.123 647.229 327.645 647.229H433.356C438.877 647.229 443.173 652.029 442.563 657.517L431.981 752.759Z" fill="var(--text)" />
                            <path d="M329.02 8.24128C329.541 3.54948 333.507 -3.24249e-05 338.227 -3.24249e-05H422.773C427.494 -3.24249e-05 431.459 3.54948 431.981 8.24128L442.563 103.483C443.173 108.971 438.877 113.771 433.355 113.771H327.645C322.123 113.771 317.827 108.971 318.437 103.483L329.02 8.24128Z" fill="var(--text)" />
                            <path d="M153.676 680.13C149.99 683.079 144.676 682.784 141.338 679.446L81.555 619.663C78.217 616.325 77.9227 611.011 80.8717 607.325L140.735 532.496C144.184 528.184 150.616 527.828 154.52 531.733L229.269 606.481C233.173 610.385 232.817 616.817 228.505 620.266L153.676 680.13Z" fill="var(--text)" />
                            <path d="M607.325 80.8701C611.011 77.9211 616.325 78.2154 619.663 81.5534L679.446 141.336C682.784 144.674 683.078 149.988 680.129 153.674L620.266 228.504C616.817 232.815 610.385 233.171 606.481 229.267L531.732 154.519C527.828 150.614 528.184 144.183 532.496 140.733L607.325 80.8701Z" fill="var(--text)" />
                            <path d="M680.129 607.325C683.078 611.011 682.784 616.325 679.446 619.663L619.663 679.446C616.325 682.784 611.011 683.078 607.325 680.129L532.496 620.266C528.184 616.817 527.828 610.385 531.732 606.481L606.481 531.732C610.385 527.828 616.816 528.184 620.266 532.496L680.129 607.325Z" fill="var(--text)" />
                            <path d="M80.8718 153.675C77.9228 149.989 78.2171 144.675 81.5551 141.336L141.338 81.5538C144.676 78.2158 149.99 77.9214 153.676 80.8704L228.505 140.734C232.817 144.183 233.173 150.615 229.269 154.519L154.52 229.267C150.616 233.172 144.184 232.816 140.735 228.504L80.8718 153.675Z" fill="var(--text)" />
                        </g></svg>
                    :
                    <svg className={styles.gear} viewBox="0 0 1332 1141" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <g style={isSafari ? { "animation": "none" } : {}} className={styles.gearRL}>
                            <path d="M0 422.772C0 427.493 3.54954 431.459 8.24134 431.98L103.483 442.563C104.597 442.686 105.683 442.608 106.706 442.358C113.836 474.052 126.328 503.717 143.179 530.349C142.271 530.897 141.441 531.614 140.735 532.496L80.8717 607.325C77.9227 611.011 78.217 616.325 81.555 619.663L141.338 679.446C144.676 682.784 149.99 683.079 153.676 680.13L228.505 620.266C229.387 619.56 230.104 618.73 230.653 617.822C257.284 634.672 286.949 647.164 318.642 654.294C318.392 655.317 318.314 656.403 318.437 657.517L329.02 752.759C329.541 757.45 333.507 761 338.228 761H422.773C427.494 761 431.46 757.45 431.981 752.759L442.563 657.517C442.687 656.403 442.609 655.317 442.359 654.294C474.052 647.164 503.716 634.672 530.348 617.821C530.897 618.73 531.613 619.56 532.496 620.266L607.325 680.129C611.011 683.078 616.325 682.784 619.663 679.446L679.446 619.663C682.784 616.325 683.078 611.011 680.129 607.325L620.266 532.496C619.56 531.614 618.73 530.897 617.821 530.349C634.673 503.717 647.165 474.052 654.295 442.359C655.317 442.609 656.403 442.687 657.517 442.563L752.759 431.981C757.451 431.459 761 427.494 761 422.773V338.228C761 333.507 757.451 329.541 752.759 329.02L657.517 318.437C656.403 318.314 655.318 318.392 654.295 318.641C647.165 286.948 634.673 257.283 617.822 230.651C618.73 230.102 619.56 229.386 620.266 228.504L680.129 153.674C683.078 149.988 682.784 144.674 679.446 141.336L619.663 81.5534C616.325 78.2154 611.011 77.9211 607.325 80.8701L532.496 140.733C531.614 141.439 530.897 142.27 530.349 143.178C503.717 126.327 474.052 113.835 442.359 106.705C442.608 105.682 442.687 104.597 442.563 103.483L431.981 8.24127C431.459 3.5495 427.493 -6.10352e-05 422.773 -6.10352e-05H338.227C333.507 -6.10352e-05 329.541 3.5495 329.02 8.24127L318.437 103.483C318.313 104.597 318.392 105.682 318.641 106.705C286.948 113.835 257.284 126.327 230.652 143.178C230.104 142.27 229.387 141.439 228.505 140.734L153.676 80.8704C149.99 77.9214 144.676 78.2158 141.338 81.5538L81.5551 141.336C78.2171 144.674 77.9228 149.989 80.8718 153.675L140.735 228.504C141.441 229.386 142.271 230.102 143.179 230.651C126.327 257.283 113.835 286.947 106.706 318.641C105.683 318.391 104.597 318.313 103.483 318.437L8.24134 329.019C3.54953 329.541 0 333.506 0 338.227L0 422.772ZM379.868 260.407C446.542 260.407 500.592 314.457 500.592 381.131C500.592 447.804 446.542 501.854 379.868 501.854C313.195 501.854 259.145 447.804 259.145 381.131C259.145 314.457 313.195 260.407 379.868 260.407Z" fill="var(--text)" />
                        </g>
                        <g style={isSafari ? { "animation": "none" } : {}} className={styles.gearRR}>
                            <path d="M571 802.772C571 807.493 574.55 811.459 579.241 811.98L674.483 822.563C675.597 822.686 676.683 822.608 677.706 822.358C684.836 854.052 697.328 883.717 714.179 910.349C713.271 910.897 712.441 911.614 711.735 912.496L651.872 987.325C648.923 991.011 649.217 996.325 652.555 999.663L712.338 1059.45C715.676 1062.78 720.99 1063.08 724.676 1060.13L799.505 1000.27C800.387 999.56 801.104 998.73 801.653 997.822C828.284 1014.67 857.949 1027.16 889.642 1034.29C889.392 1035.32 889.314 1036.4 889.437 1037.52L900.02 1132.76C900.541 1137.45 904.507 1141 909.228 1141H993.773C998.494 1141 1002.46 1137.45 1002.98 1132.76L1013.56 1037.52C1013.69 1036.4 1013.61 1035.32 1013.36 1034.29C1045.05 1027.16 1074.72 1014.67 1101.35 997.821C1101.9 998.73 1102.61 999.56 1103.5 1000.27L1178.32 1060.13C1182.01 1063.08 1187.33 1062.78 1190.66 1059.45L1250.45 999.663C1253.78 996.325 1254.08 991.011 1251.13 987.325L1191.27 912.496C1190.56 911.614 1189.73 910.897 1188.82 910.349C1205.67 883.717 1218.16 854.052 1225.29 822.359C1226.32 822.609 1227.4 822.687 1228.52 822.563L1323.76 811.981C1328.45 811.459 1332 807.494 1332 802.773V718.228C1332 713.507 1328.45 709.541 1323.76 709.02L1228.52 698.437C1227.4 698.314 1226.32 698.392 1225.29 698.641C1218.17 666.948 1205.67 637.283 1188.82 610.651C1189.73 610.102 1190.56 609.386 1191.27 608.504L1251.13 533.674C1254.08 529.988 1253.78 524.674 1250.45 521.336L1190.66 461.553C1187.33 458.215 1182.01 457.921 1178.32 460.87L1103.5 520.733C1102.61 521.439 1101.9 522.27 1101.35 523.178C1074.72 506.327 1045.05 493.835 1013.36 486.705C1013.61 485.682 1013.69 484.597 1013.56 483.483L1002.98 388.241C1002.46 383.549 998.493 380 993.773 380H909.227C904.507 380 900.541 383.549 900.02 388.241L889.437 483.483C889.313 484.597 889.392 485.682 889.641 486.705C857.948 493.835 828.284 506.327 801.652 523.178C801.104 522.27 800.387 521.439 799.505 520.734L724.676 460.87C720.99 457.921 715.676 458.216 712.338 461.554L652.555 521.336C649.217 524.674 648.923 529.989 651.872 533.675L711.735 608.504C712.441 609.386 713.271 610.102 714.179 610.651C697.327 637.283 684.835 666.947 677.706 698.641C676.683 698.391 675.597 698.313 674.483 698.437L579.241 709.019C574.55 709.541 571 713.506 571 718.227V802.772ZM950.868 640.407C1017.54 640.407 1071.59 694.457 1071.59 761.131C1071.59 827.804 1017.54 881.854 950.868 881.854C884.195 881.854 830.145 827.804 830.145 761.131C830.145 694.457 884.195 640.407 950.868 640.407Z" fill="var(--text)" />
                        </g>
                    </svg>
                }

            </div>

            <svg className={styles.utccaLogo} viewBox="0 0 1009 720" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M403.65 147.105H345.719C342.293 131.396 336.298 117.596 327.732 105.704C319.323 93.8122 309.045 83.8291 296.898 75.7545C284.907 67.5331 271.592 61.367 256.953 57.2563C242.315 53.1456 227.053 51.0902 211.169 51.0902C182.203 51.0902 155.963 57.9903 132.448 71.7906C109.088 85.5908 90.4787 105.924 76.6188 132.791C62.9146 159.657 56.0626 192.616 56.0626 231.668C56.0626 270.719 62.9146 303.678 76.6188 330.545C90.4787 357.411 109.088 377.745 132.448 391.545C155.963 405.345 182.203 412.245 211.169 412.245C227.053 412.245 242.315 410.19 256.953 406.079C271.592 401.968 284.907 395.876 296.898 387.801C309.045 379.58 319.323 369.523 327.732 357.631C336.298 345.593 342.293 331.793 345.719 316.231H403.65C399.29 339.28 391.348 359.907 379.824 378.112C368.3 396.316 353.973 411.805 336.843 424.577C319.712 437.203 300.48 446.819 279.145 453.426C257.966 460.032 235.307 463.335 211.169 463.335C170.368 463.335 134.083 453.94 102.314 435.148C70.5454 416.356 45.5508 389.636 27.3305 354.989C9.11016 320.341 0 279.234 0 231.668C0 184.101 9.11016 142.994 27.3305 108.347C45.5508 73.6991 70.5454 46.9795 102.314 28.1877C134.083 9.39591 170.368 0 211.169 0C235.307 0 257.966 3.30325 279.145 9.90975C300.48 16.5162 319.712 26.2058 336.843 38.9783C353.973 51.604 368.3 67.0192 379.824 85.2238C391.348 103.282 399.29 123.908 403.65 147.105Z" fill="var(--text)" />
                <path d="M587.918 783.069H648.351C651.925 799.293 658.179 813.547 667.114 825.828C675.887 838.11 686.609 848.421 699.28 856.76C711.789 865.251 725.679 871.62 740.95 875.865C756.221 880.111 772.141 882.234 788.712 882.234C818.928 882.234 846.302 875.107 870.832 860.854C895.201 846.601 914.614 825.601 929.072 797.853C943.368 770.105 950.516 736.065 950.516 695.732C950.516 655.399 943.368 621.359 929.072 593.611C914.614 565.863 895.201 544.863 870.832 530.61C846.302 516.357 818.928 509.23 788.712 509.23C772.141 509.23 756.221 511.353 740.95 515.599C725.679 519.844 711.789 526.137 699.28 534.476C686.609 542.967 675.887 553.354 667.114 565.636C658.179 578.069 651.925 592.322 648.351 608.395H587.918C592.466 584.589 600.752 563.285 612.773 544.484C624.795 525.682 639.741 509.685 657.611 496.494C675.481 483.454 695.544 473.522 717.8 466.699C739.894 459.876 763.531 456.464 788.712 456.464C831.275 456.464 869.127 466.168 902.267 485.576C935.408 504.985 961.482 532.581 980.489 568.365C999.497 604.149 1009 646.605 1009 695.732C1009 744.859 999.497 787.315 980.489 823.099C961.482 858.883 935.408 886.479 902.267 905.888C869.127 925.296 831.275 935 788.712 935C763.531 935 739.894 931.588 717.8 924.765C695.544 917.942 675.481 907.934 657.611 894.743C639.741 881.703 624.795 865.782 612.773 846.98C600.752 828.33 592.466 807.026 587.918 783.069Z" fill="var(--text)" />
                <path fill-rule="evenodd" clip-rule="evenodd" d="M935.757 75.6133L85.8882 925.649L45.8191 885.572L895.688 35.5363L935.757 75.6133Z" fill="var(--text)" />
            </svg>
            <div ref={headerRef} className={styles.galleryTextContainer}>
                {headings[index]}
                {/* <div className={styles.headerAndGear}>
                    <div className={styles.galleryTextHeader}>Gallery</div>
                    <Gear />
                </div>
                <div className={styles.galleryTextBody}>
                    The project gallery is still currently under construction, but there are many exciting projects in the pipeline. Stay tuned for updates!
                </div> */}
            </div>


        </div>
    );
}

export default Gallery;
